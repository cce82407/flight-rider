<!DOCTYPE html>
<html>

<!-- <head>
  <title>Add Map</title>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTN10yfIaG-UMs5wJ5pQRnrq8YjW58d3w&callback=initMap&libraries=&v=weekly"
    defer></script>
  <style type="text/css">
    /* Set the size of the div element that contains the map */
    #map {
      height: 400px;
      /* The height is 400 pixels */
      width: 100%;
      /* The width is the width of the web page */
    }
  </style>
  <script>
    // Initialize and add the map
    function initMap() {
      // The location of Uluru
      const uluru = { lat: 48.864716, lng: 2.349014 };
      // The map, centered at Uluru
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 4,
        center: uluru,
      });
      // The marker, positioned at Uluru
      const marker = new google.maps.Marker({
        position: uluru,
        map: map,
      });
    } -->


<!-- // Note: This example requires that you consent to location sharing when
    // prompted by your browser. If you see the error "The Geolocation service
    // failed.", it means you probably did not give permission for the browser to
    // locate you.
    // let map, infoWindow;

    // function initMap() {
    //   map = new google.maps.Map(document.getElementById("map"), {
    //     center: { lat: 38.9072, lng: -77.0369 },
    //     zoom: 6,
    //   });
    //   infoWindow = new google.maps.InfoWindow();
    //   const locationButton = document.createElement("button");
    //   locationButton.textContent = "Pan to Current Location";
    //   locationButton.classList.add("custom-map-control-button");
    //   map.controls[google.maps.ControlPosition.TOP_CENTER].push(locationButton);
    //   locationButton.addEventListener("click", () => {
    //     // Try HTML5 geolocation.
    //     if (navigator.geolocation) {
    //       navigator.geolocation.getCurrentPosition(
    //         (position) => {
    //           const pos = {
    //             lat: position.coords.latitude,
    //             lng: position.coords.longitude,
    //           };
    //           infoWindow.setPosition(pos);
    //           infoWindow.setContent("Houston, TX.");
    //           infoWindow.open(map);
    //           map.setCenter(pos);
    //         },
    //         () => {
    //           handleLocationError(true, infoWindow, map.getCenter());
    //         }
    //       );
    //     } else {
    //       // Browser doesn't support Geolocation
    //       handleLocationError(false, infoWindow, map.getCenter());
    //     }
    //   });
    // }

    // function handleLocationError(browserHasGeolocation, infoWindow, pos) {
    //   infoWindow.setPosition(pos);
    //   infoWindow.setContent(
    //     browserHasGeolocation
    //       ? "Error: The Geolocation service failed."
    //       : "Error: Your browser doesn't support geolocation."
    //   );
    //   infoWindow.open(map);
    // }

  </script>
</head>

<body>
  <h3>My Google Maps Demo</h3>
  < The div element for the map >
  <- <div id="map"></div>
</body>

</html> -->

<!DOCTYPE html>
<html>

<head>
  <title>Earthquake Markers</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTN10yfIaG-UMs5wJ5pQRnrq8YjW58d3w&callback&callback=initMap&libraries=&v=weekly"
    defer></script>
  <style type="text/css">
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    #map {
      height: 100%;
    }

    /* Optional: Makes the sample page fill the window. */
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  <script>
    let map;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 2,
        center: new google.maps.LatLng(2.8, -187.3),
        mapTypeId: "terrain",
      });
      // Create a <script> tag and set the USGS URL as the source.
      const script = document.createElement("script");
      // This example uses a local copy of the GeoJSON stored at
      // http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp
      script.src =
        "https://developers.google.com/maps/documentation/javascript/examples/json/earthquake_GeoJSONP.js";
      document.getElementsByTagName("head")[0].appendChild(script);
    }

    // Loop through the results array and place a marker for each
    // set of coordinates.

    const eqfeed_callback = function (results) {
      // console.log(results)
      for (let i = 0; i < results.features.length; i++) {
        const coords = results.features[i].geometry.coordinates;
        const latLng = new google.maps.LatLng(coords[1], coords[0]);
        const marker = new google.maps.Marker({
          position: latLng,
          map: map,
        });
        const infowindow = new google.maps.InfoWindow({
          content: "this is test content",
        })
        marker.addListener("click", () => {
          infowindow.open(map, marker)
        })
      }
    };
  </script>
</head>

<body>
  <div id="map"></div>
</body>

</html>